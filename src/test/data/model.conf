name: "simple_autoencoder"
net {
  layer {
name: "input"
    num_output: 3
type: "Data"
out_edge: "input_hidden"
in_edge: "reconstruct_input"
  }
  layer {
name: "hidden"
    num_output: 2
type: "Logistic"
out_edge: "hidden_reconstruct"
in_edge: "input_hidden"
  }
  layer {
name: "reconstruct"
    num_output: 3
type: "Logistic"
out_edge: "reconstruct_input"
in_edge: "hidden_reconstruct"
  }
  edge {
name: "input_hidden"
type: "InnerProduct"
    param {
name: "weight"
initializer: "Gaussian"
      shape: 3
      shape: 2
    }
    param {
name: "bias"
      shape: 2
    }
  }
  edge {
name: "hidden_reconstruct"
type: "InnerProduct"
    param {
name: "weight"
initializer: "Gaussian"
      shape: 2
      shape: 3
    }
    param {
name: "bias"
      shape: 3
    }
  }
  edge {
name: "reconstruct_input"
type: "EuclideanLoss"
  }
}

trainer {
  sgd{
    base_learning_rate: 0.1
    base_momentum: 0.5
    base_weight_decay: 0.01
    final_momentum: 0.9
    momentum_change_steps: 10
  }
  checkpoint_after_steps: 2
  checkpoint_every_steps: 2
}
